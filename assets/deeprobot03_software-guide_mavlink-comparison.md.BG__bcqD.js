import{_ as e,c as l,o as d,ak as a}from"./chunks/framework.DaqVj_Bu.js";const y=JSON.parse('{"title":"MAVLink 协议对照关系","description":"","frontmatter":{},"headers":[],"relativePath":"deeprobot03/software-guide/mavlink-comparison.md","filePath":"deeprobot03/software-guide/mavlink-comparison.md"}'),n={name:"deeprobot03/software-guide/mavlink-comparison.md"};function o(s,t,r,i,g,c){return d(),l("div",null,t[0]||(t[0]=[a('<h1 id="mavlink-协议对照关系" tabindex="-1">MAVLink 协议对照关系 <a class="header-anchor" href="#mavlink-协议对照关系" aria-label="Permalink to &quot;MAVLink 协议对照关系&quot;">​</a></h1><p>本文档详细说明当前基于 MQTT 的 RTK 开源导航协议与标准 MAVLink 协议之间的对照关系，便于协议转换和系统集成。</p><blockquote><p>Mavlink 协议的具体说明可参考：<a href="https://mavlink.io/en/messages/common.html" target="_blank" rel="noreferrer">https://mavlink.io/en/messages/common.html</a></p></blockquote><h2 id="协议概述对比" tabindex="-1">协议概述对比 <a class="header-anchor" href="#协议概述对比" aria-label="Permalink to &quot;协议概述对比&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:left;">项目</th><th style="text-align:left;">RTK 导航协议</th><th style="text-align:left;">MAVLink 协议</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>通信方式</strong></td><td style="text-align:left;">MQTT 3.3</td><td style="text-align:left;">点对点串行通信</td></tr><tr><td style="text-align:left;"><strong>传输介质</strong></td><td style="text-align:left;">TCP/IP (端口1883)</td><td style="text-align:left;">UART/UDP/TCP</td></tr><tr><td style="text-align:left;"><strong>消息格式</strong></td><td style="text-align:left;">JSON</td><td style="text-align:left;">二进制</td></tr><tr><td style="text-align:left;"><strong>消息确认</strong></td><td style="text-align:left;">MQTT QoS</td><td style="text-align:left;">内置ACK机制</td></tr><tr><td style="text-align:left;"><strong>多系统支持</strong></td><td style="text-align:left;">MQTT主题订阅</td><td style="text-align:left;">SystemID/ComponentID</td></tr><tr><td style="text-align:left;"><strong>实时性</strong></td><td style="text-align:left;">依赖网络延迟</td><td style="text-align:left;">低延迟</td></tr></tbody></table><h2 id="状态类消息对照表" tabindex="-1">状态类消息对照表 <a class="header-anchor" href="#状态类消息对照表" aria-label="Permalink to &quot;状态类消息对照表&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:left;">消息类型</th><th style="text-align:left;">RTK导航协议</th><th style="text-align:left;">MAVLink协议</th><th style="text-align:left;">对照关系说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>系统状态</strong></td><td style="text-align:left;"><code>base_status</code></td><td style="text-align:left;"><code>HEARTBEAT(0)</code> + <code>SYS_STATUS(1)</code></td><td style="text-align:left;">RTK单一消息包含多种状态，<br>MAVLink分为心跳和系统状态两个消息</td></tr><tr><td style="text-align:left;"><strong>位置信息</strong></td><td style="text-align:left;"><code>base_status.pose</code></td><td style="text-align:left;"><code>LOCAL_POSITION_NED(32)</code></td><td style="text-align:left;">本地坐标系位置信息</td></tr><tr><td style="text-align:left;"><strong>全球定位</strong></td><td style="text-align:left;"><code>base_status.rtk</code></td><td style="text-align:left;"><code>GPS_RAW_INT(24)</code> + <code>GLOBAL_POSITION_INT(33)</code></td><td style="text-align:left;">RTK定位对应GPS原始数据和全球位置</td></tr><tr><td style="text-align:left;"><strong>姿态信息</strong></td><td style="text-align:left;"><code>base_status.pose.yaw</code></td><td style="text-align:left;"><code>ATTITUDE(30)</code> + <code>ATTITUDE_QUATERNION(31)</code></td><td style="text-align:left;">姿态角度信息，MAVLink支持欧拉角和四元数</td></tr><tr><td style="text-align:left;"><strong>速度信息</strong></td><td style="text-align:left;"><code>base_status.robot.vx/vy/vz</code></td><td style="text-align:left;"><code>LOCAL_POSITION_NED(32).vx/vy/vz</code></td><td style="text-align:left;">三轴速度信息直接对应</td></tr><tr><td style="text-align:left;"><strong>电池状态</strong></td><td style="text-align:left;"><code>base_status.bms</code></td><td style="text-align:left;"><code>BATTERY_STATUS(147)</code></td><td style="text-align:left;">电池相关信息对应</td></tr><tr><td style="text-align:left;"><strong>传感器状态</strong></td><td style="text-align:left;"><code>base_status.sensor</code></td><td style="text-align:left;"><code>SYS_STATUS(1)</code> 传感器位掩码</td><td style="text-align:left;">传感器健康状态对应</td></tr></tbody></table><h2 id="控制命令类消息对照表" tabindex="-1">控制命令类消息对照表 <a class="header-anchor" href="#控制命令类消息对照表" aria-label="Permalink to &quot;控制命令类消息对照表&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="text-align:left;">消息类型</th><th style="text-align:left;">RTK导航协议</th><th style="text-align:left;">MAVLink协议</th><th style="text-align:left;">对照关系说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>轨迹管理</strong></td><td style="text-align:left;"><code>trajectory_control</code></td><td style="text-align:left;"><code>MISSION_*</code> 系列消息</td><td style="text-align:left;">具体参考「轨迹管理」小节</td></tr><tr><td style="text-align:left;"><strong>任务控制</strong></td><td style="text-align:left;"><code>task_control</code></td><td style="text-align:left;"><code>COMMAND_LONG(76)</code> + <code>COMMAND_INT(75)</code></td><td style="text-align:left;">具体参考「任务控制」小节</td></tr><tr><td style="text-align:left;"><strong>速度控制</strong></td><td style="text-align:left;"><code>manual_control.cmd_vel</code></td><td style="text-align:left;"><code>MANUAL_CONTROL(69)</code></td><td style="text-align:left;">手动速度控制直接对应</td></tr><tr><td style="text-align:left;"><strong>急停控制</strong></td><td style="text-align:left;"><code>manual_control.terminate</code></td><td style="text-align:left;"><code>MAV_CMD_DO_FLIGHTTERMINATION</code></td><td style="text-align:left;">急停对应飞行终止命令</td></tr></tbody></table><h3 id="轨迹管理" tabindex="-1">轨迹管理 <a class="header-anchor" href="#轨迹管理" aria-label="Permalink to &quot;轨迹管理&quot;">​</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">功能</th><th style="text-align:left;">RTK导航协议</th><th style="text-align:left;">MAVLink协议</th><th style="text-align:left;">对照关系说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>获取轨迹列表</strong></td><td style="text-align:left;"><code>get_all_trajectory</code></td><td style="text-align:left;"><code>MISSION_REQUEST_LIST(43)</code></td><td style="text-align:left;">请求任务列表</td></tr><tr><td style="text-align:left;"><strong>保存轨迹</strong></td><td style="text-align:left;"><code>save_trajectory</code></td><td style="text-align:left;"><code>MISSION_COUNT(44)</code> + <code>MISSION_ITEM_INT(73)</code></td><td style="text-align:left;">上传任务序列</td></tr><tr><td style="text-align:left;"><strong>删除轨迹</strong></td><td style="text-align:left;"><code>delete_trajectory</code></td><td style="text-align:left;"><code>MISSION_CLEAR_ALL(45)</code></td><td style="text-align:left;">清除任务</td></tr><tr><td style="text-align:left;"><strong>轨迹反馈</strong></td><td style="text-align:left;"><code>trajectory_data</code></td><td style="text-align:left;"><code>MISSION_ITEM_INT(73)</code> 数组</td><td style="text-align:left;">轨迹点数据对应任务项</td></tr></tbody></table><h3 id="任务控制" tabindex="-1">任务控制 <a class="header-anchor" href="#任务控制" aria-label="Permalink to &quot;任务控制&quot;">​</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">功能</th><th style="text-align:left;">RTK导航协议</th><th style="text-align:left;">MAVLink协议</th><th style="text-align:left;">对照关系说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>启动循迹</strong></td><td style="text-align:left;"><code>start_task</code></td><td style="text-align:left;"><code>MISSION_SET_CURRENT(41)</code> + <code>MAV_CMD_MISSION_START</code></td><td style="text-align:left;">开始执行任务</td></tr><tr><td style="text-align:left;"><strong>取消循迹</strong></td><td style="text-align:left;"><code>cancel_task</code></td><td style="text-align:left;"><code>MAV_CMD_DO_PAUSE_CONTINUE</code></td><td style="text-align:left;">暂停/继续任务</td></tr><tr><td style="text-align:left;"><strong>RTK归零</strong></td><td style="text-align:left;"><code>init_rtk_data</code></td><td style="text-align:left;"><code>MAV_CMD_DO_SET_HOME</code></td><td style="text-align:left;">设置Home点</td></tr></tbody></table>',13)]))}const x=e(n,[["render",o]]);export{y as __pageData,x as default};
