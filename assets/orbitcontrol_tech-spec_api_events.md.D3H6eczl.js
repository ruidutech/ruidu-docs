import{_ as a,c as s,o as i,ak as e}from"./chunks/framework.DaqVj_Bu.js";const E=JSON.parse('{"title":"事件上报","description":"","frontmatter":{},"headers":[],"relativePath":"orbitcontrol/tech-spec/api/events.md","filePath":"orbitcontrol/tech-spec/api/events.md"}'),h={name:"orbitcontrol/tech-spec/api/events.md"};function n(l,t,d,r,o,k){return i(),s("div",null,t[0]||(t[0]=[e(`<h1 id="事件上报" tabindex="-1">事件上报 <a class="header-anchor" href="#事件上报" aria-label="Permalink to &quot;事件上报&quot;">​</a></h1><h2 id="消息格式" tabindex="-1">消息格式 <a class="header-anchor" href="#消息格式" aria-label="Permalink to &quot;消息格式&quot;">​</a></h2><ul><li><strong>协议类型</strong>: MQTT</li><li><strong>接口地址</strong>: <code>device/:serial_number/event</code></li><li><strong>请求参数</strong><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;msg_id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;uuid-789&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;timestamp&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1757403776</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Unix 时间戳</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;serial_number&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;sn-191&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 设备序列号</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2001</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Event ID，参考错误码说明</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;log_levels&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> /* emergency, alert, critical, error, warning,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                        notice, info, debug, protocol, disabled */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 可以传递多个参数，取决于 event_id</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;arguments&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;key1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;value1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;key2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;value2&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">      …</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></li></ul><h2 id="错误码区间规划" tabindex="-1">错误码区间规划 <a class="header-anchor" href="#错误码区间规划" aria-label="Permalink to &quot;错误码区间规划&quot;">​</a></h2><table tabindex="0"><thead><tr><th>错误码区间</th><th>适用模块</th></tr></thead><tbody><tr><td>1001 - 1999</td><td>设备相关，手动控制/设备状态等</td></tr><tr><td>2001 - 2999</td><td>云台相关</td></tr><tr><td>3001 - 3999</td><td>导航相关</td></tr><tr><td>4001 - 4999</td><td>任务相关</td></tr><tr><td>5000 -</td><td>预留</td></tr></tbody></table><h2 id="具体错误码说明" tabindex="-1">具体错误码说明 <a class="header-anchor" href="#具体错误码说明" aria-label="Permalink to &quot;具体错误码说明&quot;">​</a></h2><p>根据需求和开发进度持续维护。</p><h3 id="通用" tabindex="-1">通用 <a class="header-anchor" href="#通用" aria-label="Permalink to &quot;通用&quot;">​</a></h3><table tabindex="0"><thead><tr><th>ID</th><th>Text</th><th>Log Level</th></tr></thead><tbody><tr><td>1001</td><td>请求参数错误</td><td>error</td></tr><tr><td>1002</td><td>模式不匹配</td><td>error</td></tr></tbody></table><h3 id="设备相关" tabindex="-1">设备相关 <a class="header-anchor" href="#设备相关" aria-label="Permalink to &quot;设备相关&quot;">​</a></h3><table tabindex="0"><thead><tr><th>ID</th><th>Text</th><th>Log Level</th></tr></thead><tbody><tr><td>1101</td><td>推流服务异常</td><td>error</td></tr><tr><td>1102</td><td>设备状态不支持当前指令</td><td>error</td></tr></tbody></table><h3 id="云台相关" tabindex="-1">云台相关 <a class="header-anchor" href="#云台相关" aria-label="Permalink to &quot;云台相关&quot;">​</a></h3><table tabindex="0"><thead><tr><th>ID</th><th>Text</th><th>Log Level</th></tr></thead><tbody><tr><td>2001</td><td>云台不在线</td><td>error</td></tr><tr><td>2002</td><td>云台指令执行失败</td><td>error</td></tr></tbody></table><h3 id="导航相关" tabindex="-1">导航相关 <a class="header-anchor" href="#导航相关" aria-label="Permalink to &quot;导航相关&quot;">​</a></h3><table tabindex="0"><thead><tr><th>ID</th><th>Text</th><th>Log Level</th></tr></thead><tbody><tr><td>3001</td><td>导航任务执行失败</td><td>error</td></tr></tbody></table><h3 id="任务执行相关" tabindex="-1">任务执行相关 <a class="header-anchor" href="#任务执行相关" aria-label="Permalink to &quot;任务执行相关&quot;">​</a></h3><table tabindex="0"><thead><tr><th>ID</th><th>Text</th><th>Log Level</th></tr></thead><tbody><tr><td>4001</td><td>任务执行成功</td><td>info</td></tr><tr><td>4002</td><td>任务执行失败</td><td>error</td></tr></tbody></table><h3 id="系统" tabindex="-1">系统 <a class="header-anchor" href="#系统" aria-label="Permalink to &quot;系统&quot;">​</a></h3><table tabindex="0"><thead><tr><th>ID</th><th>Text</th><th>Log Level</th></tr></thead><tbody><tr><td>9001</td><td>未知内部错误</td><td>error</td></tr></tbody></table>`,19)]))}const c=a(h,[["render",n]]);export{E as __pageData,c as default};
